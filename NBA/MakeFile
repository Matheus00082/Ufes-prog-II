# Makefile personalizado para o seu projeto

# Compilador e opções de compilação
CC = gcc
CFLAGS = -Wall -Werror -std=c99

# Diretórios
SRCDIR = src
OBJDIR = obj
BINDIR = bin

# Lista de arquivos de origem
SOURCES = $(wildcard $(SRCDIR)/*.c)

# Lista de arquivos-objeto
OBJECTS = $(patsubst $(SRCDIR)/%.c,$(OBJDIR)/%.o,$(SOURCES))

# Nome do executável principal
EXECUTABLE = meu_programa

# Alvo principal (compilação do programa principal)
all: $(BINDIR)/$(EXECUTABLE)

# Regra para compilar o programa principal
$(BINDIR)/$(EXECUTABLE): $(OBJECTS)
	$(CC) $(CFLAGS) -o $@ $^

# Regra para compilar arquivos-objeto
$(OBJDIR)/%.o: $(SRCDIR)/%.c
	$(CC) $(CFLAGS) -c -o $@ $<

# Alvo para limpar arquivos gerados
clean:
	rm -f $(OBJDIR)/*.o $(BINDIR)/$(EXECUTABLE)

# Alvo opcional para construir tudo de uma vez
build: all

# Alvo phony para prevenir conflitos com arquivos de mesmo nome
.PHONY: all clean build
